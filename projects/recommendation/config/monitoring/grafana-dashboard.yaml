apiVersion: 1

providers:
- name: 'Recommendation Dashboards'
  orgId: 1
  folder: 'Recommendation System'
  type: file
  options:
    path: /var/lib/grafana/dashboards

dashboards:
  - name: 'Recommendation Performance'
    panels:
      - title: 'Recommendations per Hour'
        type: graph
        datasource: Prometheus
        targets:
          - expr: 'rate(product_recommendations_total[1h])'
      
      - title: 'Click-through Rates by Category'
        type: bargauge
        datasource: Prometheus
        targets:
          - expr: 'recommendation_ctr'
      
      - title: 'Response Time Distribution'
        type: heatmap
        datasource: Prometheus
        targets:
          - expr: 'rate(recommendation_generation_seconds_bucket[5m])'
      
      - title: 'Model Performance Metrics'
        type: stat
        datasource: Prometheus
        targets:
          - expr: 'recommendation_model_metrics' 